{
  "type": "delphi deploy config",
  "version": 1,
  "actions": [

    "// client - API",
    {
      "type": "minimize-js",
      "src": "src/client/delphi_epidata.js",
      "dst": "src/client/delphi_epidata.min.js"
    },
    {
      "type": "export",
      "src": "src/client/delphi_epidata.py",
      "add-header-comment": true
    },
    {
      "type": "move",
      "src": "src/client/",
      "dst": "/var/www/html/epidata/lib/",
      "match": "^delphi_epidata.*\\.(js|py|coffee|R)$",
      "add-header-comment": true
    },

    "// server - API",
    {
      "type": "move",
      "src": "src/server/",
      "dst": "/var/www/html/epidata/",
      "match": "^.*\\.(html|php)$",
      "add-header-comment": true
    },

    "// acquisition - flusurv",
    {"type": "import", "dst": "../epidata/flusurv/epiweek.py"},
    {"type": "import", "dst": "../epidata/flusurv/secrets.py"},
    {
      "type": "move",
      "src": "src/acquisition/flusurv/",
      "dst": "../epidata/flusurv/",
      "match": "^.*\\.(py)$",
      "add-header-comment": true
    }

  ]
}
